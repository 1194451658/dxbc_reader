
mov r0.xyz, v0.xyzx
r0.xyz = in.POSITION.xyz

mov r0.w, l(1.000000)
r0.w = 1.0

dp4 o0.x, r0.xyzw, cb0[17].xyzw
out.SV_Position.x = dot(r0.xyzw, Batch.WorldViewProj[0].xyzw)

dp4 o0.y, r0.xyzw, cb0[18].xyzw
out.SV_Position.y = dot(r0.xyzw, Batch.WorldViewProj[1].xyzw)

dp4 o0.z, r0.xyzw, cb0[19].xyzw
out.SV_Position.z = dot(r0.xyzw, Batch.WorldViewProj[2].xyzw)

dp4 o0.w, r0.xyzw, cb0[20].xyzw
out.SV_Position.w = dot(r0.xyzw, Batch.WorldViewProj[3].xyzw)

mad o1.zw, v2.xxxy, cb1[6].xxxy, cb1[6].zzzw
out.TEXCOORD1.zw = in.TEXCOORD2.xy*Shader.cLightMapUVTransform.xy + Shader.cLightMapUVTransform.zw

mov o1.xy, v2.xyxx
out.TEXCOORD1.xy = in.TEXCOORD2.xy

add r1.x, l(-300.000000), cb2[4].y
r1.x = -300.0 + GlobalVS.CameraPosVS.y

mul r1.x, r1.x, l(500.000000)
r1.x = r1.x*500.0

max o2.w, r1.x, l(0.000000)
out.TEXCOORD2.w = max(r1.x, 0.0)

dp4 r1.x, r0.xyzw, cb0[0].xyzw
r1.x = dot(r0.xyzw, Batch.World[0].xyzw)

dp4 r1.y, r0.xyzw, cb0[1].xyzw
r1.y = dot(r0.xyzw, Batch.World[1].xyzw)

dp4 r1.z, r0.xyzw, cb0[2].xyzw
r1.z = dot(r0.xyzw, Batch.World[2].xyzw)

mov o2.xyz, r1.xyzx
out.TEXCOORD2.xyz = r1.xyz

mov o3.w, l(0)
out.TEXCOORD3.w = 0

mad r0.xyz, v1.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000), l(-1.000000, -1.000000, -1.000000, 0.000000)
r0.xyz = in.NORMAL.xyz*float4(2.0,2.0,2.0,0.0) + float4(-1.0,-1.0,-1.0,0.0)

dp3 r2.x, r0.xyzx, cb0[0].xyzx
r2.x = dot(r0.xyzx, Batch.World[0].xyzx)

dp3 r2.y, r0.xyzx, cb0[1].xyzx
r2.y = dot(r0.xyzx, Batch.World[1].xyzx)

dp3 r2.z, r0.xyzx, cb0[2].xyzx
r2.z = dot(r0.xyzx, Batch.World[2].xyzx)

dp3 r0.x, r2.xyzx, r2.xyzx
r0.x = dot(r2.xyzx, r2.xyzx)

rsq r0.x, r0.x
r0.x = rsqrt(r0.x)

mul r0.xyz, r0.xxxx, r2.xyzx
r0.xyz = r0.xxx*r2.xyz

mov o3.xyz, r0.xyzx
out.TEXCOORD3.xyz = r0.xyz

mov o4.w, l(0)
out.TEXCOORD4.w = 0

add r2.xyz, r1.xyzx, -cb2[4].xyzx
r2.xyz = r1.xyz-GlobalVS.CameraPosVS.xyz

mov o4.xyz, r2.xyzx
out.TEXCOORD4.xyz = r2.xyz

mul r0.w, r2.y, -cb2[11].z
r0.w = r2.y*-GlobalVS.FogInfo.z

mul r0.w, r0.w, l(1.442695)
r0.w = r0.w*1.442695

exp r0.w, r0.w
r0.w = exp2(r0.w)

add r0.w, -r0.w, l(1.000000)
r0.w = -r0.w + 1.0

mul r2.w, r2.y, cb2[11].z
r2.w = r2.y*GlobalVS.FogInfo.z

div r0.w, r0.w, r2.w
r0.w = r0.w/r2.w

mul r0.w, r0.w, cb2[11].w
r0.w = r0.w*GlobalVS.FogInfo.w

lt r2.w, l(0.001000), |r2.y|
r2.w = 0.001 < abs(r2.y)

dp3 r2.x, r2.xyzx, r2.xyzx
r2.x = dot(r2.xyzx, r2.xyzx)

sqrt r2.x, r2.x
r2.x = sqrt(r2.x)

add r2.x, r2.x, -cb2[11].x
r2.x = r2.x-GlobalVS.FogInfo.x

max r2.x, r2.x, l(0.000000)
r2.x = max(r2.x, 0.0)

movc r0.w, r2.w, r0.w, cb2[11].w
r0.w = r2.w

mul r0.w, r0.w, l(0.020000)
r0.w = r0.w*0.02

mul r0.w, r0.w, -r2.x
r0.w = r0.w*-r2.x

mul r0.w, r0.w, l(1.442695)
r0.w = r0.w*1.442695

exp r0.w, r0.w
r0.w = exp2(r0.w)

add r2.x, l(0.999000), -cb2[12].w
r2.x = 0.999-GlobalVS.FogColorVS.w

mad o5.w, r0.w, r2.x, cb2[12].w
out.TEXCOORD5.w = r0.w*r2.x + GlobalVS.FogColorVS.w

mov o5.xyz, l(0,0,0,0)
out.TEXCOORD5.xyz = float4(0,0,0,0)

mul r2.xyz, r0.zxyz, l(0.000000, 1.000000, 0.000000, 0.000000)
r2.xyz = r0.zxy*float4(0.0,1.0,0.0,0.0)

mad r2.xyz, r0.yzxy, l(1.000000, 0.000000, 0.000000, 0.000000), -r2.xyzx
r2.xyz = r0.yzx*float4(1.0,0.0,0.0,0.0)-r2.xyz

dp2 r0.w, r2.xyxx, r2.xyxx
r0.w = dot(r2.xyxx, r2.xyxx)

rsq r0.w, r0.w
r0.w = rsqrt(r0.w)

mul r2.xyz, r0.wwww, r2.xyzx
r2.xyz = r0.www*r2.xyz

mov o6.xyz, r2.xyzx
out.TEXCOORD6.xyz = r2.xyz

mul r3.xy, cb2[4].xzxx, cb1[3].xxxx
r3.xy = GlobalVS.CameraPosVS.xz*Shader.cBlockScale.xx

frc r3.xy, r3.xyxx
r3.xy = frac(r3.xy)

mov o6.w, r3.x
out.TEXCOORD6.w = r3.x

mov o7.w, r3.y
out.TEXCOORD7.w = r3.y

mul r3.xyz, r0.zxyz, r2.yzxy
r3.xyz = r0.zxy*r2.yzx

mad o7.xyz, r0.yzxy, r2.zxyz, -r3.xyzx
out.TEXCOORD7.xyz = r0.yzx*r2.zxy-r3.xyz

mov r1.w, l(1.000000)
r1.w = 1.0

dp4 o8.x, r1.xyzw, cb2[6].xyzw
out.TEXCOORD8.x = dot(r1.xyzw, GlobalVS.LightViewProjTex[0].xyzw)

dp4 o8.y, r1.xyzw, cb2[7].xyzw
out.TEXCOORD8.y = dot(r1.xyzw, GlobalVS.LightViewProjTex[1].xyzw)

dp4 o8.z, r1.xyzw, cb2[8].xyzw
out.TEXCOORD8.z = dot(r1.xyzw, GlobalVS.LightViewProjTex[2].xyzw)

dp4 o8.w, r1.xyzw, cb2[9].xyzw
out.TEXCOORD8.w = dot(r1.xyzw, GlobalVS.LightViewProjTex[3].xyzw)

ret
return